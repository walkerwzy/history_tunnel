# 历史数据采集策略分析

## 问题识别

当前问题：
1. ❌ 使用`num_events=50`这样的计数参数，不符合需求
2. ❌ 需求是：从公元前1000年到2026年的所有历史事件
3. ❌ 时间范围：-1000到2026，跨度约3026年，数据量巨大
4. ❌ 直接一次性抓取所有年份会导致：
   - API请求过多（超过Wikipedia限制）
   - 数据量过大难以处理
   - 包含大量低价值信息
   - 无法突出重要历史节点

## 重构策略：分阶段 + 重要性过滤

### 策略1：按历史时期分段采集

将-1000到2026分为6个主要历史阶段：

```
阶段1：古典时期（-1000到500）
  - 古希腊罗马文明
  - 采集频率：每100年一次
  - 重点关注：政治变革、文化传承

阶段2：中世纪（500到1500）
  - 封建制度、宗教发展
  - 采集频率：每50年一次
  - 重点关注：宗教、政治、军事

阶段3：近代早期（1500到1800）
  - 文艺复兴、工业革命前夕
  - 采集频率：每25年一次
  - 重点关注：科技、文化、政治

阶段4：19世纪（1800到1900）
  - 工业革命、殖民扩张
  - 采集频率：每10年一次
  - 重点关注：科技、经济、政治

阶段5：20世纪（1900到2000）
  - 世界大战、冷战、科技革命
  - 采集频率：每5年一次
  - 重点关注：军事、科技、政治、经济

阶段6：21世纪（2000到2026）
  - 当代事件
  - 采集频率：每年
  - 重点关注：科技、经济、政治
```

### 策略2：抓取关键历史事件页面

不只是按年份抓取，而是抓取关键历史事件/时期页面：

**欧洲关键历史时期列表：**
1. 古典时期（Classical Antiquity）
2. 中世纪（Middle Ages）
3. 文艺复兴（Renaissance）
4. 探索时代（Age of Discovery）
5. 启蒙运动（Enlightenment）
6. 法国大革命（French Revolution）
7. 拿破仑战争（Napoleonic Wars）
8. 工业革命（Industrial Revolution）
9. 第一次世界大战（World War I）
10. 俄国革命（Russian Revolution）
11. 大萧条（Great Depression）
12. 第二次世界大战（World War II）
13. 冷战（Cold War）
14. 欧盟成立（Formation of EU）
15. 当代欧洲（Contemporary Europe）

**中国关键历史时期列表：**
1. 先秦时期（-1000到-221）
2. 秦朝（-221到-206）
3. 汉朝（-206到220）
4. 三国时期（220到280）
5. 魏晋南北朝（280到589）
6. 隋朝（581到618）
7. 唐朝（618到907）
8. 五代十国（907到960）
9. 宋朝（960到1279）
10. 元朝（1271到1368）
11. 明朝（1368到1644）
12. 清朝（1644到1911）
13. 民国时期（1912到1949）
14. 当代中国（1949到2026）

### 策略3：智能数据采集流程

```python
# 步骤1：抓取关键历史时期
periods = scrape_key_periods(region, period_list)

# 步骤2：为每个时期抓取代表性事件
for period in periods:
    events = scrape_representative_events(period)
    filter_by_importance(events, min_importance=7)
    store_in_database(events)

# 步骤3：补充当代年份数据
for year in range(2000, 2027):
    events = scrape_year_events(year)
    if events:
        store_in_database(events)
```

### 策略4：数据取舍原则

**事件取舍标准：**
1. ✅ 保留：重要程度≥7的事件（1-10分级）
2. ✅ 保留：涉及多个国家/地区的事件
3. ✅ 保留：科技/文化里程碑事件
4. ✅ 保留：政治制度变革事件
5. ✅ 保留：重大军事冲突（战争）
6. ❌ 舍弃：单一地区的小规模事件（importance<7）
7. ❌ 舍弃：常规年份记录（无重大意义）
8. ❌ 舍弃：人物出生/去世（除非历史级人物）

**时期取舍标准：**
1. ✅ 保留：持续超过50年的连续时期（如中世纪）
2. ✅ 保留：重大历史运动时期（如文艺复兴）
3. ✅ 保留：有明确起止时间的独立时期
4. ❌ 舍弃：少于10年的时期（除非重大）

## 重构后的实施方案

### 方案A：关键时期+代表事件（推荐）

优点：
- 数据质量高，聚焦重要历史节点
- API请求可控（约30-50个关键时期）
- 数据量适中（预计200-300个高质量事件）

实施步骤：
1. 抓取30-50个关键历史时期页面
2. 从每个时期提取3-10个代表性事件
3. 补充2000-2026的逐年数据
4. 最终获得约300个高质量事件+30个时期

### 方案B：分段采样+重要性过滤

优点：
- 覆盖完整时间轴
- 可调整采样密度

实施步骤：
1. 按阶段采样（古代稀疏，现代密集）
2. 对抓取的数据进行重要性评分
3. 只保留importance≥6的事件
4. 最终获得约500个事件

## 推荐方案

**采用方案A（关键时期+代表事件）+ 补充方案B的现代逐年数据**

理由：
1. 确保覆盖所有重要历史节点
2. API请求量合理（50-80次）
3. 数据质量高，便于可视化
4. 现代数据完整（2000-2026逐年）

预期数据量：
- 事件：约400-500个
- 时期：约30-40个
- 时间范围：-1000到2026（完整覆盖）
